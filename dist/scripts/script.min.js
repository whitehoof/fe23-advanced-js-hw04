"use strict";const films="https://ajax.test-danit.com/api/swapi/films",container=document.querySelector(".container");fetch(films).then(t=>t.json()).then(t=>{t.forEach((t,e)=>{const n=`\n\t\t<div class="film">\n\t\t\t<h2 class="film__name">\n\t\t\t\t<span class="film__episodeid">${t.episodeId}.</span>\n\t\t\t\t${t.name}\n\t\t\t</h2>\n\t\t\t<div class="film__characters">\n\t\t\t\t<div class="preloader" id="preloader-${e}">Loading...</div>\n\t\t\t\t<p class="film__characters--list hidden" id="characters-${e}">\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<p class="film__openingcrawl">${t.openingCrawl.replace(/\`/g,"'")}</p>\n\t\t</div>`;container.insertAdjacentHTML("beforeend",n);const a=[],c=document.querySelector(`#characters-${e}`);t.characters.forEach(n=>{fetch(n).then(t=>t.json()).then(n=>{"Yoda"===n.name?a.push(`<span class="yoda">${n.name}</span>`):a.push(n.name),c.innerHTML=a.join(", "),t.characters.length===a.length&&(document.querySelector(`#characters-${e}`).classList.remove("hidden"),document.querySelector(`#preloader-${e}`).remove())}).catch(t=>console.warn("CHARACTERS ERROR:",t)).finally(()=>{})})})}).catch(t=>console.warn("FILM ERROR:",t));